AutoPilot
=========

.. class:: AutoPilot

   Provides basic auto-piloting utilities for a vessel. Created by calling
   :attr:`Vessel.auto_pilot`.

   .. attribute:: sas

      Gets or sets the state of SAS.

      :rtype: bool
      :returns: ``True`` if SAS is enabled, ``False`` if it is not.

   .. attribute:: sas_mode

      Gets or sets the SAS mode. These modes are equivalent to the mode buttons to
      the left of the navball that appear when SAS is enabled.

      :rtype: :class:`SASMode`
      :returns: The current :class:`SASMode`

   .. attribute:: speed_mode

      Gets or sets the speed mode of the navball. This is the mode displayed next
      to the speed at the top of the navball.

      :rtype: :class:`SpeedMode`
      :returns: The current :class:`SpeedMode`

   .. method:: set_rotation (pitch, heading, [roll=na_n], [reference_frame=Vessel.surface_reference_frame], [wait=false])

      Points the vessel in the specified direction, and holds it there. Setting
      the roll angle is optional.

      If wait is ``False`` (the default) this method returns immediately, and
      the auto-pilot continues to rotate the vessel. If wait is ``True``, this
      method returns when the auto-pilot has rotated the vessel into the
      requested orientation.

      The auto-pilot is disengaged either when :meth:`AutoPilot.disengage` is
      called, or when the client that requested the auto-pilot command
      disconnects.

      :param float pitch: The desired pitch above/below the horizon, in
                          degrees. A value between -90° and +90° degrees.
      :param float heading: The desired heading in degrees. A value between 0°
                            and 360°.
      :param float roll: Optional desired roll angle relative to the horizon, in
                         degrees. A value between -180° and +180°.
      :param ReferenceFrame reference_frame: The reference frame that the pitch,
                                            heading and roll are in. Defaults to
                                            the vessels surface reference frame.
      :param bool wait: If true, this method returns when the auto-pilot has
                        rotated the vessel into the requested orientation.

   .. method:: set_direction (direction, [roll=na_n], [reference_frame=Vessel.surface_reference_frame], [wait=false])

      Points the vessel along the specified direction vector, and holds it
      there. Setting the roll angle is optional.

      If wait is ``False`` (the default) this method returns immediately, and
      the auto-pilot continues to rotate the vessel. If wait is ``True``, this
      method returns when the auto-pilot has rotated the vessel into the
      requested orientation.

      The auto-pilot is disengaged either when :meth:`AutoPilot.disengage` is
      called, or when the client that requested the auto-pilot command
      disconnects.

      :param Vector3 direction: The desired direction (pitch and heading) as a
                               unit vector.
      :param float roll: Optional desired roll angle relative to the horizon, in
                         degrees. A value between -180° and 180°.
      :param ReferenceFrame reference_frame: The reference frame that the
                                            direction vector is in. Defaults to
                                            the vessels surface reference frame.
      :param bool wait: If true, this method returns when the auto-pilot has
                        rotated the vessel into the requested orientation.

   .. attribute:: error

      Gets the error, in degrees, between the direction the ship has been asked
      to point in and the actual direction it is pointing in. If the auto-pilot
      has not been engaged, returns zero.

      :rtype: float

   .. attribute:: roll_error

      Gets the error, in degrees, between the roll the ship has been asked to be
      in and the actual roll. If the auto-pilot has not been engaged, returns
      zero.

      :rtype: float

   .. method:: disengage ()

      Disengage the auto-pilot.  Has no effect unless
      :meth:`AutoPilot.set_rotation` or :meth:`AutoPilot.set_direction` have been
      called previously.

      .. note:: This will disable :attr:`Control.sas`.

.. class:: SASMode

   .. data:: stability_assist

   .. data:: maneuver

   .. data:: prograde

   .. data:: retrograde

   .. data:: normal

   .. data:: anti_normal

   .. data:: radial

   .. data:: anti_radial

   .. data:: target

   .. data:: anti_target

.. class:: SpeedMode

   .. data:: orbit

   .. data:: surface

   .. data:: target
